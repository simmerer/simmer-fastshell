/*!
 * simmer
 * Signature creative & technical work.
 * https://simmer.ooo
 * @author David Simmer
 * @version 5.0.0
 * Copyright 2017. CC BY-NC-ND licensed.
 */
function run(){var t=window.location,e=(t.protocol+"//"+t.host,[]);Barba.Pjax.Dom.wrapperId="bw",Barba.Pjax.Dom.containerClass="bc",Barba.Pjax.start();var i=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){var t=Barba.Utils.deferred();return this.oldContainer.classList.add("fade-out"),t.resolve(),console.info(t),t.promise},fadeIn:function(){var t=this.newContainer,i=document.querySelector("body");i.classList=e,this.oldContainer.classList.add("hide"),t.classList.add("is-paused"),t.classList.add("fade-in"),setTimeout(function(){t.classList.remove("is-paused")},250),this.done()}});Barba.Pjax.getTransition=function(){return i},Barba.Dispatcher.on("newPageReady",function(t,i,s,n){var a=n.replace(/(<\/?)body( .+?)?>/gi,"$1notBody$2>"),o=document.createRange().createContextualFragment(a);e=o.querySelector("notBody").classList})}(function(){var t,e;this.Harvey=function(){function i(){}return i.states={},i.attach=function(e,i){var s;return this.states.hasOwnProperty(e)||(this.states[e]=[],this._add_css_for(e)),s=new t(e,null!=i?i.setup:void 0,null!=i?i.on:void 0,null!=i?i.off:void 0),this.states[e].length||this._watch_query(e),this.states[e].push(s),this._window_matchmedia(e).matches&&this._update_states([s],!0),s},i.detach=function(t){var e,i,s,n,a,o;for(a=this.states[t.condition],o=[],e=s=0,n=a.length;s<n;e=++s)i=a[e],t===i?o.push(this.states[i.condition][e]=void 0):o.push(void 0);return o},i._watch_query=function(t){var e=this;return this._window_matchmedia(t).addListener(function(i){return e._update_states(e.states[t],i.matches)})},i._update_states=function(t,e){var i,s,n,a;for(a=[],s=0,n=t.length;s<n;s++)i=t[s],e?a.push(i.activate()):a.push(i.deactivate());return a},i._mediaList={},i._window_matchmedia=function(t){return window.matchMedia&&"addListener"in window.matchMedia("all")?(t in this._mediaList||(this._mediaList[t]=window.matchMedia(t)),this._mediaList[t]):(this._listening||this._listen(),t in this._mediaList||(this._mediaList[t]=new e(t)),this._mediaList[t])},i._listen=function(){var t,e=this;return t=window.addEventListener||window.attachEvent,t("resize",function(){var t,i,s,n;s=e._mediaList,n=[];for(i in s)t=s[i],n.push(t._process());return n}),t("orientationChange",function(){var t,i,s,n;s=e._mediaList,n=[];for(i in s)t=s[i],n.push(t._process());return n}),this._listening=!0},i._add_css_for=function(t){if(this.style||(this.style=document.createElement("style"),this.style.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style)),t="@media "+t+" {.harvey-test{}}",!this.style.styleSheet)return this.style.appendChild(document.createTextNode(t))},i}(),t=function(){function t(t,e,i,s){this.condition=t,this.setup=e,this.on=i,this.off=s}return t.prototype.active=!1,t.prototype.is_setup=!1,t.prototype.activate=function(){if(!this.active)return this.is_setup||("function"==typeof this.setup&&this.setup(),this.is_setup=!0),"function"==typeof this.on&&this.on(),this.active=!0},t.prototype.deactivate=function(){if(this.active)return"function"==typeof this.off&&this.off(),this.active=!1},t}(),e=function(){function t(t){this.media=t,this._listeners=[],this.matches=this._matches()}return t.prototype.addListener=function(t){this._listeners.push(t)},t.prototype._process=function(){var t,e,i,s,n,a;if(e=this._matches(),this.matches!==e){for(this.matches=e,n=this._listeners,a=[],i=0,s=n.length;i<s;i++)t=n[i],a.push(t(this));return a}},t.prototype._matches=function(){return this._tester||this._get_tester(),this._tester.innerHTML='&shy;<style media="'+this.media+'">#harvey-mq-test{width:42px;}</style>',this._tester.removeChild(this._tester.firstChild),42===this._tester.offsetWidth},t.prototype._get_tester=function(){if(this._tester=document.getElementById("harvey-mq-test"),!this._tester)return this._build_tester()},t.prototype._build_tester=function(){return this._tester=document.createElement("div"),this._tester.id="harvey-mq-test",this._tester.style.cssText="position:absolute;top:-100em",document.body.insertBefore(this._tester,document.body.firstChild)},t}()}).call(this),"loading"!==document.readyState?run():document.addEventListener?document.addEventListener("DOMContentLoaded",run):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&run()});